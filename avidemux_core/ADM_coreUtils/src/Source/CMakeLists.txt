UNSET(CMAKE_CXX_VISIBILITY_PRESET)
UNSET(CMAKE_VISIBILITY_INLINES_HIDDEN)

SET(ADM_LIB ADM_json)
ADD_LIBRARY(${ADM_LIB} STATIC)

TARGET_SOURCES(${ADM_LIB} PRIVATE
internalJSONNode.cpp
#JSON_Base64.cpp
JSONChildren.cpp
JSONDebug.cpp
JSONIterators.cpp
JSONMemory.cpp
JSONNode.cpp
JSONNode_Mutex.cpp
JSONStream.cpp
JSONValidator.cpp
JSONWorker.cpp
JSONWriter.cpp
libjson.cpp
)
TARGET_COMPILE_DEFINITIONS(${ADM_LIB} PRIVATE NDEBUG)
IF(NOT MSVC)
  ADD_DEFINITIONS("-std=c++11")
  TARGET_COMPILE_DEFINITIONS(${ADM_LIB} PUBLIC "JSON_ISO_STRICT")
ENDIF()
IF(UNIX)
  ADD_TARGET_CFLAGS(${ADM_LIB} -fPIC)
ENDIF()
# EOF
